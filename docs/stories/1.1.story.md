# Story 1.1: Project Initialization & Development Environment

## Status

**Ready for Review**

---

## Story

**As a** developer,  
**I want** a properly configured Expo project with TypeScript, linting, and folder structure,  
**so that** I can begin development with best practices from day one.

---

## Acceptance Criteria

1. Expo project created with `npx create-expo-app` using TypeScript template
2. Folder structure follows monorepo pattern (`apps/mobile`, `packages/shared`)
3. ESLint + Prettier configured with React Native rules
4. Git repository initialized with `.gitignore` for React Native/Expo
5. README.md documents setup instructions and project structure
6. App runs successfully in Expo Go on iOS simulator

---

## Tasks / Subtasks

- [x] **Task 1: Create monorepo folder structure** (AC: 2)
  - [x] Create root `vestiaire/` project directory
  - [x] Create `apps/mobile/` directory for React Native app
  - [x] Create `packages/shared/` directory for shared code
  - [x] Create `supabase/` directory structure (migrations/, functions/)
  - [x] Create `.github/workflows/` directory

- [x] **Task 2: Initialize Expo project** (AC: 1, 6)
  - [x] Run `npx create-expo-app@latest apps/mobile --template expo-template-blank-typescript`
  - [x] Verify TypeScript is properly configured
  - [x] Update `app.json` with Vestiaire app name, slug, and bundle identifier
  - [x] Expo project created successfully

- [x] **Task 3: Configure root package.json for npm workspaces** (AC: 2)
  - [x] Create root `package.json` with workspaces configuration
  - [x] Add scripts for running mobile app from root
  - [x] Configure shared dependencies hoisting

- [x] **Task 4: Setup ESLint + Prettier** (AC: 3)
  - [x] Install ESLint with TypeScript plugins
  - [x] Install Prettier with eslint-config-prettier
  - [x] Create `.eslintrc.js` with React Native + TypeScript rules
  - [x] Create `.prettierrc` with project formatting rules
  - [x] Add lint scripts to package.json: `lint`, `lint:fix`

- [x] **Task 5: Initialize Git repository** (AC: 4)
  - [x] Expo created git repo in apps/mobile
  - [x] Create comprehensive `.gitignore` for React Native/Expo/Node
  - [x] Add `.env*` patterns to gitignore (except `.env.example`)
  - [x] Create `.env.example` template

- [x] **Task 6: Create README.md** (AC: 5)
  - [x] Document project overview and purpose
  - [x] Add prerequisites section (Node, npm, Xcode, etc.)
  - [x] Add setup instructions for local development
  - [x] Add available npm scripts documentation
  - [x] Add folder structure explanation

- [x] **Task 7: Create shared package structure** (AC: 2)
  - [x] Create `packages/shared/package.json`
  - [x] Create `packages/shared/src/types/` with User, Item, Outfit types
  - [x] Create `packages/shared/src/constants/` with levels, points
  - [x] Create `packages/shared/src/utils/` with CPW, currency utils
  - [x] Create index.ts exports

- [x] **Task 8: Verify complete setup** (AC: 1, 2, 3, 4, 5, 6)
  - [x] Run `npm install` from root - 910 packages installed
  - [x] Verify folder structure matches architecture spec
  - [x] Run `npm run ios` to verify app launches ✅ Verified by user

---

## Dev Notes

### Project Structure
[Source: architecture.md#project-structure]

```
vestiaire/
├── .github/
│   └── workflows/
├── apps/
│   └── mobile/                 # React Native + Expo
│       ├── app/                # Expo Router pages
│       ├── components/
│       ├── hooks/
│       ├── services/
│       ├── stores/
│       ├── utils/
│       ├── constants/
│       ├── types/
│       ├── app.json
│       ├── eas.json
│       └── package.json
├── packages/
│   └── shared/
│       ├── src/
│       │   ├── types/
│       │   ├── constants/
│       │   └── utils/
│       └── package.json
├── supabase/
│   ├── migrations/
│   └── functions/
├── docs/
├── .env.example
├── package.json
└── README.md
```

### Tech Stack for This Story
[Source: architecture.md#tech-stack]

| Technology | Version | Purpose |
|------------|---------|---------|
| TypeScript | 5.3+ | Type safety |
| React Native | 0.73+ | Mobile framework |
| Expo SDK | 52+ | Development tooling |
| Expo Router | 3.0+ | File-based routing |
| ESLint | Latest | Code linting |
| Prettier | Latest | Code formatting |

### npm Workspaces Configuration
[Source: architecture.md#repository-structure]

Root `package.json` should include:
```json
{
  "name": "vestiaire",
  "private": true,
  "workspaces": [
    "apps/*",
    "packages/*"
  ],
  "scripts": {
    "ios": "npm run ios --workspace=apps/mobile",
    "android": "npm run android --workspace=apps/mobile",
    "lint": "eslint . --ext .ts,.tsx",
    "lint:fix": "eslint . --ext .ts,.tsx --fix"
  }
}
```

### Expo Configuration
[Source: architecture.md#tech-stack]

`app.json` should set:
- `name`: "Vestiaire"
- `slug`: "vestiaire"
- `ios.bundleIdentifier`: "com.vestiaire.app"
- `scheme`: "vestiaire"

### .gitignore
Include patterns for:
- `node_modules/`
- `.expo/`
- `dist/`
- `.env`, `.env.local` (keep `.env.example`)
- `*.jks`, `*.p8`, `*.p12` (certificates)
- `ios/` and `android/` native folders (Expo manages these)

---

## Testing

### Testing Standards
[Source: architecture.md#testing-strategy]

- **Test Location:** `apps/mobile/__tests__/`
- **Framework:** Jest + React Native Testing Library
- **For this story:** No specific tests required (infrastructure only)
- **Verification:** Manual verification that app runs in simulator

### Verification Steps
1. `npm install` completes without errors
2. `npm run lint` passes with no warnings
3. `npm run ios` launches app in iOS Simulator
4. App displays default Expo screen

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-21 | 1.0 | Initial story draft | Bob (SM) |
| 2026-01-21 | 1.1 | Implementation complete | James (Dev) |
| 2026-01-21 | 1.2 | Manual verification passed, story complete | James (Dev) |

---

## Dev Agent Record

### Agent Model Used
Gemini 2.5 Pro (James - Dev Agent)

### Debug Log References
- Expo install: 698 packages, 0 vulnerabilities
- Root npm install: 910 packages, 0 vulnerabilities

### Completion Notes List
- Created monorepo structure with npm workspaces
- Initialized Expo with TypeScript template
- Configured ESLint + Prettier for React Native
- Created shared package with types, constants, utils
- All core types (User, Item, Outfit, UserStats) defined
- Gamification constants (levels, points) implemented
- Manual verification: App runs successfully in iOS Simulator ✅

### File List
**Created:**
- `vestiaire/package.json` - Root package with workspaces
- `vestiaire/.eslintrc.js` - ESLint configuration
- `vestiaire/.prettierrc` - Prettier configuration
- `vestiaire/.gitignore` - Git ignore patterns
- `vestiaire/.env.example` - Environment template
- `vestiaire/README.md` - Project documentation
- `vestiaire/apps/mobile/` - Expo TypeScript app
- `vestiaire/apps/mobile/app.json` - Updated with branding
- `vestiaire/packages/shared/package.json`
- `vestiaire/packages/shared/src/index.ts`
- `vestiaire/packages/shared/src/types/index.ts`
- `vestiaire/packages/shared/src/constants/index.ts`
- `vestiaire/packages/shared/src/utils/index.ts`
- `vestiaire/supabase/migrations/` - Empty directory
- `vestiaire/supabase/functions/` - Empty directory
- `vestiaire/.github/workflows/` - Empty directory

---

## QA Results
*To be filled by QA agent*
