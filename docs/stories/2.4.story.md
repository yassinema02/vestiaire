# Story 2.4: Item Metadata Entry

## Status

**Done** âœ…

---

## Story

**As a** user,  
**I want** to add details about my clothing item,  
**so that** I can track its value and get better recommendations.

---

## Acceptance Criteria

1. Form fields: name (optional), brand, purchase price, purchase date
2. Season tags: Spring, Summer, Fall, Winter, All-Season
3. Occasion tags: Casual, Work, Formal, Sport, Night Out
4. All fields optional except category and color
5. Data saved to `items` table with user relationship
6. Form can be completed later (item saved as draft)

---

## Tasks / Subtasks

- [ ] **Task 1: Extend confirmation screen with metadata form** (AC: 1)
  - [ ] Add name input field (optional)
  - [ ] Add brand input field
  - [ ] Add purchase price input (currency formatted)
  - [ ] Add purchase date picker

- [ ] **Task 2: Add season tags selection** (AC: 2)
  - [ ] Create season tag chips (Spring, Summer, Fall, Winter, All-Season)
  - [ ] Allow multiple season selections
  - [ ] Visual toggle for selected seasons

- [ ] **Task 3: Add occasion tags selection** (AC: 3)
  - [ ] Create occasion tag chips (Casual, Work, Formal, Sport, Night Out)
  - [ ] Allow multiple occasion selections
  - [ ] Visual toggle for selected occasions

- [ ] **Task 4: Update items service and database** (AC: 5)
  - [ ] Ensure all metadata fields exist in items table
  - [ ] Update items service to save all metadata
  - [ ] Validate data before saving

- [ ] **Task 5: Handle draft state** (AC: 6)
  - [ ] Skip button saves item with "draft" status
  - [ ] Confirm button saves with "complete" status
  - [ ] Allow editing later from item detail view

---

## Dev Notes

### Previous Story Insights
[Source: Story 2.3]
- Confirmation screen at `app/(tabs)/confirm-item.tsx`
- Already has category, sub-category, colors, pattern selection
- Uses items service to save metadata
- Items table has columns for all metadata

### UI Layout
The confirmation screen will be extended with:
1. **Text inputs section** - Name, Brand, Price, Date
2. **Season section** - Multi-select chips
3. **Occasion section** - Multi-select chips
4. Existing category/color sections remain

### Season & Occasion Tags

```typescript
const SEASONS = ['Spring', 'Summer', 'Fall', 'Winter', 'All-Season'];
const OCCASIONS = ['Casual', 'Work', 'Formal', 'Sport', 'Night Out'];
```

---

## Testing

### Test Cases

1. **All fields filled** - Verify all metadata saved correctly
2. **Skip flow** - Verify item saved as draft
3. **Optional fields** - Verify empty fields handled correctly
4. **Multiple tags** - Verify multiple seasons/occasions saved

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-24 | 1.0 | Initial story draft | Bob (SM) |
